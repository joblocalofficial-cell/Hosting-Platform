<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>JobLocal - ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script> 
    
    <style>
        /* CSS Styles (‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏ó‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏µ‡∏ü‡πâ‡∏≤) */
        body { font-family: 'Sukhumvit Set', 'Arial', sans-serif; max-width: 600px; margin: 0 auto; padding: 20px 15px; background-color: #f8f8f8; color: #333; }
        .container { background-color: #fff; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); padding: 20px; }

        /* HEADER & PROFILE */
        header { display: flex; gap: 15px; align-items: center; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        #avatar { width: 56px; height: 56px; border-radius: 50%; object-fit: cover; background: #eee; }
        #hello { font-size: 1.1em; font-weight: bold; margin-bottom: 2px; color: #17a2b8; } /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ */
        #uid { font-size: 0.8em; color: #888; }
        
        /* FORM STYLES */
        h2 { font-size: 1.5em; color: #333; margin-top: 25px; margin-bottom: 15px; border-left: 5px solid #17a2b8; padding-left: 10px; } /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ */
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: #555; font-size: 0.95em; }
        
        /* INPUTS */
        input, select, textarea { 
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; 
            box-sizing: border-box; font-size: 1em; transition: border-color 0.3s;
            background-color: #fff;
        }
        input:focus, select:focus, textarea:focus { border-color: #17a2b8; outline: none; box-shadow: 0 0 0 3px rgba(23, 162, 184, 0.1); }
        
        /* GRID & CHECKBOX/RADIO */
        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        @media (max-width: 400px) {
            .row { grid-template-columns: 1fr; }
            .grid-3 { grid-template-columns: 1fr; }
        }
        
        .radio-group { display: flex; flex-direction: column; gap: 8px; }
        .radio-group label { display: flex; align-items: center; font-weight: normal; margin-bottom: 0; }
        .radio-group input[type="radio"] { width: auto; margin-right: 10px; }

        /* PDPA CONSENT */
        .pdpa-group { background-color: #e8f9fb; border: 1px solid #17a2b8; padding: 15px; border-radius: 8px; margin-bottom: 25px; }
        .pdpa-group label { font-weight: normal; display: flex; align-items: flex-start; margin-bottom: 0; }
        .pdpa-group input[type="checkbox"] { width: auto; margin-right: 10px; margin-top: 2px; }
        .pdpa-consent-text { margin-top: 10px; font-size: 0.85em; }
        .pdpa-consent-text a { color: #17a2b8; text-decoration: none; font-weight: bold; cursor: pointer; }
        
        /* BUTTON */
        button { 
            background-color: #17a2b8; color: white; padding: 14px 20px; 
            border: none; border-radius: 8px; cursor: pointer; width: 100%; 
            font-size: 1.1em; font-weight: bold; transition: background-color 0.3s;
        }
        button:hover:enabled { background-color: #0b8fa0; }
        button:disabled { background-color: #b8e2e7; cursor: not-allowed; }
        
        /* STATUS */
        .status { margin-top: 10px; font-size: 0.9em; text-align: center; color: #666; }
        .hidden { display: none !important; }
        
        /* FILE UPLOAD */
        input[type="file"] { border: none; padding: 0; }
        .file-note { font-size: 0.8em; color: #888; margin-top: 5px; }

        /* HISTORY STYLES */
        .history-view h2 { border-left-color: #17a2b8; }
        .history-view button { background-color: #17a2b8; }
        .history-card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-top: 15px; background-color: #f9f9f9; }
        .history-item { margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #eee; }
        .history-label { font-weight: bold; color: #555; font-size: 0.85em; display: inline-block; width: 150px; }
        .history-value { font-weight: normal; color: #333; font-size: 0.95em; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img id="avatar" alt="Avatar">
            <div>
                <div id="hello">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE...</div>
                <small id="uid">userId: -</small>
            </div>
        </header>

        <div id="form-view">
            <form id="f">
                
                <div class="pdpa-group form-group">
                    <label for="consent_pdpa">
                        <input type="checkbox" id="consent_pdpa" name="consent_pdpa" required>
                        **‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô PDPA** (‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç)
                    </label>
                </div>

                <h2>‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß (Personal Info)</h2>
                
                <div class="form-group">
                    <label for="full_name">‡∏ä‡∏∑‡πà‡∏≠ ‚Äì ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
                    <input id="full_name" name="full_name" required>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label for="age">‡∏≠‡∏≤‡∏¢‡∏∏ *</label>
                        <input id="age" name="age" type="number" min="15" max="99" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå *</label>
                        <input id="phone" name="phone" type="tel" pattern="[0-9]{10}" placeholder="08x-xxxxxxx" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input id="email" name="email" type="email" placeholder="example@email.com">
                </div>

                <div class="form-group">
                    <label for="education">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ *</label>
                    <select id="education" name="education" required>
                        <option value="" disabled selected>--- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ---</option>
                        <option value="‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤">‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                        <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô</option>
                        <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢/‡∏õ‡∏ß‡∏ä">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢/‡∏õ‡∏ß‡∏ä</option>
                        <option value="‡∏≠‡∏ô‡∏∏‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤/‡∏õ‡∏ß‡∏™">‡∏≠‡∏ô‡∏∏‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤/‡∏õ‡∏ß‡∏™</option>
                        <option value="‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ</option>
                        <option value="‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="district">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ) *</label>
                    <select id="district" name="district" required>
                        <option value="" disabled selected>--- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ---</option>
                        <option value="‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ">‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ</option>
                        <option value="‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á">‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á</option>
                        <option value="‡∏ò‡∏±‡∏ç‡∏ö‡∏∏‡∏£‡∏µ">‡∏ò‡∏±‡∏ç‡∏ö‡∏∏‡∏£‡∏µ</option>
                        <option value="‡∏´‡∏ô‡∏≠‡∏á‡πÄ‡∏™‡∏∑‡∏≠">‡∏´‡∏ô‡∏≠‡∏á‡πÄ‡∏™‡∏∑‡∏≠</option>
                        <option value="‡∏•‡∏≤‡∏î‡∏´‡∏•‡∏∏‡∏°‡πÅ‡∏Å‡πâ‡∏ß">‡∏•‡∏≤‡∏î‡∏´‡∏•‡∏∏‡∏°‡πÅ‡∏Å‡πâ‡∏ß</option>
                        <option value="‡∏•‡∏≥‡∏•‡∏π‡∏Å‡∏Å‡∏≤">‡∏•‡∏≥‡∏•‡∏π‡∏Å‡∏Å‡∏≤</option>
                        <option value="‡∏™‡∏≤‡∏°‡πÇ‡∏Ñ‡∏Å">‡∏™‡∏≤‡∏°‡πÇ‡∏Ñ‡∏Å</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="selfie_photo">‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á *</label>
                    <input id="selfie_photo" name="selfie_photo" type="file" accept="image/*" required>
                    <div class="file-note">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
                </div>

                <h2>‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: Portfolio / ‡∏ú‡∏•‡∏á‡∏≤‡∏ô (Experience & Skills)</h2>

                <div class="form-group">
                    <label for="work_experience">‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤ *</label>
                    <textarea id="work_experience" name="work_experience" rows="4" placeholder="‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏î"></textarea>
                </div>

                <div class="form-group">
                    <label for="skills">‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏ô‡∏±‡∏î *</label>
                    <textarea id="skills" name="skills" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡πÑ‡∏î‡πâ, ‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° Excel ‡πÑ‡∏î‡πâ‡∏Ñ‡∏•‡πà‡∏≠‡∏á, ‡∏ã‡πà‡∏≠‡∏°‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ, ‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢"></textarea>
                </div>

                <div class="form-group">
                    <label for="certificate_photo">‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á / ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏á‡∏≤‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                    <input id="certificate_photo" name="certificate_photo" type="file" accept="image/*, application/pdf">
                    <div class="file-note">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏á‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</div>
                </div>

                <h2>‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Availability)</h2>
                
                <div class="form-group">
                    <label for="desired_job">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥ *</label>
                    <textarea id="desired_job" name="desired_job" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü, ‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤, ‡∏á‡∏≤‡∏ô‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î"></textarea>
                </div>

                <div class="form-group">
                    <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô *</label>
                    <div class="radio-group">
                        <label><input type="radio" name="availability" value="‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ" required> ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</label>
                        <label><input type="radio" name="availability" value="‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå"> ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</label>
                        <label><input type="radio" name="availability" value="‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô"> ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô</label>
                        <label><input type="radio" name="availability" value="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏≠‡∏¢‡∏π‡πà"> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏≠‡∏¢‡∏π‡πà</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ *</label>
                    <div class="radio-group">
                        <label><input type="radio" name="work_type" value="Full Time" required> Full Time (‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤)</label>
                        <label><input type="radio" name="work_type" value="Part Time" required> Part Time (‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤)</label>
                        <label><input type="radio" name="work_type" value="‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô / ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß" required> ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô / ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</label>
                        <label><input type="radio" name="work_type" value="‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" required> ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="description_note">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ)</label>
                    <textarea id="description_note" name="description_note" rows="2" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏á‡∏ó‡∏£‡∏≤‡∏ö"></textarea>
                </div>

                <button id="submitBtn" type="submit" disabled>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE‚Ä¶</button>
                <div id="status" class="status"></div>
                
            </form>
        </div>
        
        <div id="history-view" class="hidden history-view">
            <h2 style="color: #17a2b8;">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô üìÑ</h2>
            <p id="history-message" style="font-size: 0.9em;">
                ‚úÖ **‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!** ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
                <span style="font-weight: bold; color: #d9534f;">‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å</span> ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞
            </p>
            
            <div id="latest-submission-card" class="history-card">
                </div>

            <button id="closeWindowBtn" class="history-action-btn" style="background-color: #5bc0de;">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
        </div>
    </div>

    <script>
        // --- CONFIG ---
        // ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô LIFF ID ‡πÅ‡∏•‡∏∞ GAS Endpoint ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô
        const LIFF_ID = "2008394776-k9v7m3Wg"; 
        const GAS_ENDPOINT = "https://script.google.com/macros/s/AKfycbw_5J5oQpxCsn6BJoyexQRR0Lm6ddzF7ueSvHR4m52JPgiSnkM6ZwRkHnxw5sxd3aDknw/exec"; 
        // --- End CONFIG --- 

        const $ = id => document.getElementById(id);
        const form = $("f");

        let userProfile = {};
        let userIdToken = '';
        let liffReady = false;

        // UI Elements
        const helloDiv = $("hello");
        const submitBtn = $("submitBtn");
        const statusDiv = $("status");
        
        // Views
        const formView = $("form-view");
        const historyView = $("history-view");
        const latestSubmissionCard = $("latest-submission-card");
        const closeWindowBtn = $("closeWindowBtn");

        // --- LIFF Initialization ---
        async function initializeLiff() {
            try {
                await liff.init({ liffId: LIFF_ID });
                
                if (!liff.isLoggedIn()) {
                    liff.login();
                    return;
                }
                
                userProfile = await liff.getProfile();
                userIdToken = liff.getIDToken();
                liffReady = true;

                helloDiv.textContent = `‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞, ${userProfile.displayName}`;
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (logic ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
                const hasSubmitted = await checkSubmissionHistory(userProfile.userId);
                
                if (hasSubmitted) {
                    showView('history');
                } else {
                    showView('form');
                }
                
                // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°
                submitBtn.disabled = false;
                submitBtn.textContent = "‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô";

            } catch (error) {
                console.error("LIFF initialization failed", error);
                helloDiv.textContent = "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE";
            }
        }

        // --- NEW FUNCTION: ‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ---
        function showView(viewName) {
            if (viewName === 'form') {
                formView.classList.remove('hidden');
                historyView.classList.add('hidden');
            } else if (viewName === 'history') {
                formView.classList.add('hidden');
                historyView.classList.remove('hidden');
            }
        }

        // --- checkSubmissionHistory (‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÄ‡∏î‡∏¥‡∏°) ---
        async function checkSubmissionHistory(userId) {
            statusDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô...";
            try {
                const checkUrl = `${GAS_ENDPOINT}?userId=${userId}`;
                const res = await fetch(checkUrl);
                const json = await res.json();
                
                if (json.status === "check_history" && json.hasSubmitted) {
                    renderHistoryCard(json.latestSubmission);
                    return true;
                } else {
                    statusDiv.textContent = "‚úÖ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô";
                    return false;
                }

            } catch (err) {
                statusDiv.textContent = "‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏´‡∏°‡πà";
                return false;
            }
        }
        
        // --- NEW FUNCTION: ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ Job Seeker ---
        function renderHistoryCard(data) {
            let html = '<p style="color:#17a2b8; font-weight:bold; margin-bottom: 15px;">**‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**</p>';
            
            // ‡πÉ‡∏ä‡πâ Field ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Job Seeker
            const displayMap = {
                '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà-‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°': '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î',
                '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞': '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö',
                '‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•': '‡∏ä‡∏∑‡πà‡∏≠',
                '‡∏≠‡∏≤‡∏¢‡∏∏': '‡∏≠‡∏≤‡∏¢‡∏∏',
                '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå': '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£',
                '‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà': '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤': '‡∏ß‡∏∏‡∏í‡∏¥',
                '‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥': '‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à',
                '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£': '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏á‡∏≤‡∏ô',
                '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô': '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô'
            };
            
            for (const key in displayMap) {
                if (data[key]) {
                    html += `
                        <div class="history-item">
                            <span class="history-label">${displayMap[key]}:</span>
                            <span class="history-value">${data[key]}</span>
                        </div>
                    `;
                }
            }
            
            latestSubmissionCard.innerHTML = html;
        }

        // --- Form Submission Handler (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Payload) ---
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!liffReady) return;

            submitBtn.disabled = true;
            submitBtn.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";
            statusDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÑ‡∏ü‡∏•‡πå)...";
            
            const formData = new FormData(form);
            const data = {};
            for (let [key, value] of formData.entries()) {
                // ‡πÅ‡∏¢‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å
                if (value instanceof File) {
                    if (value.name) {
                        // ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ File Reader ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô Base64 ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
                        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Apps Script, ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏ú‡πà‡∏≤‡∏ô POST data.contents ‡∏à‡∏∞‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
                        // ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠: **‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á**
                        // ‡∏´‡∏£‡∏∑‡∏≠ **‡∏™‡∏£‡πâ‡∏≤‡∏á API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Base64** ‡∏ã‡∏∂‡πà‡∏á‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å
                        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ: ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡πà‡∏á‡πÅ‡∏Ñ‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î
                        data[key] = `[${value.name}]`; // Placeholder for file
                        // ‚ö†Ô∏è ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á, ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Blob/Base64 API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå
                    } else {
                         data[key] = '';
                    }
                } else {
                     data[key] = value;
                }
            }
            
            // ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Text ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå (‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢/Portfolio)
            // ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ Base64 Encoding ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö Apps Script ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö (‡∏ã‡∏∂‡πà‡∏á‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å)
            // ‡∏Ç‡∏≠‡∏•‡∏∞‡πÄ‡∏ß‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ File Upload ‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ ‡πÅ‡∏ï‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Text ‡πÅ‡∏ó‡∏ô
            
            const payload = {
                idToken: userIdToken,
                profile: {
                    userId: userProfile.userId,
                    displayName: userProfile.displayName,
                },
                data: data 
            };

            try {
                const res = await fetch(GAS_ENDPOINT, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload),
                    mode: 'no-cors' 
                });

                if (res.type === 'opaque') {
                    statusDiv.textContent = "‚úÖ ‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î...";
                    submitBtn.textContent = "‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
                    
                    // ‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                    await checkSubmissionHistory(userProfile.userId); 
                    showView('history'); 
                    return;
                }

            } catch (err) {
                statusDiv.textContent = "‚ùå ‡∏™‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " + err.message;
                submitBtn.disabled = false;
                submitBtn.textContent = "‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô";
            }
        });

        // Event listener ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á
        closeWindowBtn.addEventListener('click', () => {
            if (liff.closeWindow) {
                liff.closeWindow();
            }
        });

        // Start LIFF
        initializeLiff();
    </script>
</body>
</html>
